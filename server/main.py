# -*- coding: utf-8 -*-

from flask import Flask
from flask import request
from flask import Response

from requestManager import requestsManager
from parseManager import parseManager

app = Flask(__name__)

# ////////////////////////////////////////////////////////////////////////////////////////
# 请求资金数据（两市成交额，融资融券，两市资金净流入，沪港通，沪深通净流入，板块资金）
# ////////////////////////////////////////////////////////////////////////////////////////

@app.route('/api/moneyinfo', methods=['GET'])
def getMoneyInfo():
    pass

# ////////////////////////////////////////////////////////////////////////////////////////
# 请求 A 股涨跌平数据
# ////////////////////////////////////////////////////////////////////////////////////////

@app.route('/api/zdpinfo', methods=['GET'])
def getZDPInfo():
    pass

# ////////////////////////////////////////////////////////////////////////////////////////
# 请求指数数据 china asian euro america
# ////////////////////////////////////////////////////////////////////////////////////////
@app.route('/api/indexs', methods=['GET'])
def getIndexInfos():
    area = request.args.get("area")
    responseText = requestsManager().getIndexInfos(area)
    data = parseManager().parseIndexInfos(area)
    return Response(data, status=200, mimetype='application/json')

# ////////////////////////////////////////////////////////////////////////////////////////
# 请求期货&外汇数据
# ////////////////////////////////////////////////////////////////////////////////////////

@app.route('/api/goods_and_exchanges', methods=['GET'])
def getGoodsAndExchangeInfo():
    pass

# ////////////////////////////////////////////////////////////////////////////////////////
# 请求债券数据
# ////////////////////////////////////////////////////////////////////////////////////////

@app.route('/api/bondinfo', methods=['GET'])
def getBondInfo():
    pass

# ////////////////////////////////////////////////////////////////////////////////////////
# 是否工作日
# ////////////////////////////////////////////////////////////////////////////////////////

@app.route('/api/today', methods=['GET'])
def dayType():
    pass

# debug
if __name__ == '__main__':
    app.run(port=5000, debug=True)